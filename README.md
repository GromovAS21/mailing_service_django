# Cะตัะฒะธั ัะฐัััะปะบะธ ะฝะฐ Django

ะะฐะฝะฝัะน ัะตัะฒะธั ัะฒะปััััั ัะฐัััั ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััั, ะบะพัะพัะฐั ะพะฑะตัะฟะตัะธะฒะฐะตั ัะฐะฑะพัั ะฑะพะปััะพะณะพ ะฟัะพะตะบัะฐ ะฒ ัะฐััะธ
ัะฒะตะดะพะผะปะตะฝะธะน ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฝะฐ email ะธะปะธ ะฒ telegram.
___

## 1. ะขะตัะฝะพะปะพะณะธะธ ะธ ะทะฐะฒะธัะธะผะพััะธ

ะะปั ัะฐะฑะพัั ะฟัะธะปะพะถะตะฝะธั ะธัะฟะพะปัะทััััั ัะปะตะดัััะธะต ัะตัะฝะพะปะพะณะธะธ ะธ ะทะฐะฒะธัะธะผะพััะธ:

| ะะพะผะฟะพะฝะตะฝั               | ะะตััะธั |                     
|-------------------------|--------|
| **Python**              | 3.12   |
| **Django**              | 5.2.1  |                                     
| **Psycopg2-binary**     | 2.9.10 |                                                  
| **Python-dotenv**       | 0.9.9  |                                 
| **djangorestframework** | 3.16.0 |                                                 
| **redis**               | 6.1.0  |                                                 
| **celery**              | 5.5.2  |                                
| **requests**            | 2.32.3 |   

---

## 2. ะญะฝะดะฟะพะธะฝั

- `POST api/notify/` โ ัะพะทะดะฐะฝะธะต ัะฒะตะดะพะผะปะตะฝะธั ั ะฐะดัะตัะฐัะฐะผะธ ะธ ะฒัััะฐะฒะปะตะฝะธะตะผ ะทะฐะดะตัะถะบะธ ะพัะฟัะฐะฒะบะธ ะธ ะพัะฟัะฐะฒะบะฐ ะฝะฐ email ะธะปะธ ัะตัะตะท Telegram bot c ะทะฐะฟะธััั ัะฒะตะดะพะผะปะตะฝะธั, ะฟะพะปััะฐัะตะปั ะธ ะปะพะณะฐ ะพะฑ ะพัะฟัะฐะฒะบะต ะฒ ะะ.

  ### ะัะธะผะตั ัะตะปะฐ ะทะฐะฟัะพัะฐ:
  
  ะก ะฝะตัะบะพะปัะบะธะผะธ ะฐะดัะตัะฐัะฐะผะธ
  ```
  {
  "message": "Example notification",
  "recipient": [123456789, test@example.ru],
  "delay": 0
  }
  ```
  ะธะปะธ ั ะพะดะฝะธะผ ะฐะดัะตัะฐัะพะผ

  ```
  {
  "message": "Example notification",
  "recipient": [123456789, test@example.ru],
  "delay": 0
  }
  ```
--- 

## 3. ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั

- ะัะพะฒะตัะบะฐ ะฝะฐ ะฟัััะพะต ัะพะพะฑัะตะฝะธะต (ะผะธะฝะธะผะฐะปัะฝะฐั ะดะปะธะฝะฐ ัะพะพะฑัะตะฝะธั 1 ัะธะผะฒะพะป)
- ะัะพะฒะตัะบะฐ ะฝะฐ ะบะพััะตะบัะฝัะน email
- ะัะพะฒะตัะบะฐ ะฝะฐ ะบะพััะตะบัะฝัะน telegram ID (ะดะปะธะฝะฐ 9-10)
- ะะพะปะต delay ะผะพะถะตั ะฑััั ัะพ ะทะฝะฐัะตะฝะธัะผะธ: 0 - ะฑะตะท ะทะฐะดะตัะถะบะธ, 1 - ัะตัะตะท ัะฐั, 2 - ัะตัะตะท ะดะตะฝั 

---

## 4. ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### 1) ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
   ```bash
   git clone https://github.com/GromovAS21/mailing_service_django.git
   cd mailing_service_django
   ```
### 2) ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

- ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ ั ะฟะพะผะพััั Poetry ะธ ะฐะบัะธะฒะธััะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต:
    ```bash
    poetry install
    poetry shell
    ```

### 3) ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

- ะะตัะตะธะผะตะฝัะนัะต ัะฐะนะป [.env.sample](.env.sample) ะฒ [.env](.env.sample) ะธ ะทะฐะฟะพะปะฝะธัะต ะฒัะต ะฟะตัะตะผะตะฝะฝัะต ะฒ ััะพะผ ัะฐะนะปะต.
- ะะปั ะฟะตัะตะผะตะฝะฝะพะน `TELEGRAM_BOT_TOKEN` ะฝะตะพะฑัะพะดะธะผะพ ะฒ ะขะตะปะตะณัะฐะผ ัะพะทะดะฐัั ัะตะปะตะณัะฐะผ ะฑะพัะฐ ัะตัะตะท https://t.me/BotFather, ะฟะพัะปะต ัะพะทะดะฐะฝะธั ะฟะพะปััะตะฝะฝัะน ัะพะบะตะฝ  ะฒััะฐะฒะธัั ะฒ ะฟะตัะตะผะตะฝะฝัั.
x
### 4) ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

   - ะะฐะฟััะบ ัะตัะตะท Docker (ะฒะตะฑ-ัะตัะฒะธั)
       ```bash
       docker-compose up -d --build
       ```
     _ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะฑัะดะตั ะดะพัััะฟะฝะพ ะฟะพ ะฐะดัะตัั: http://127.0.0.1:8000_

---

## Pre-commit (ะะปั ัะฐะทัะฐะฑะพัะบะธ)

ะ ะฟัะพะตะบัะต ะฟัะธัััััะฒัะตั ััะฝะบัะธั pre-commit, ะบะพัะพััะน ะฟัะพะฒะตััะตั ะบะพะด ะฝะฐ ัะพะพัะฒะตัััะฒะธะต ััะฐะฝะดะฐััะฐะผ PEP8 ัะพััะพััะธะต ะธะท `isort`,
`black`, `flake8`, `flake8-docstrings`;

### ะะฐะฟััะบ Pre-commit

```bash
pre-commit install
git add .pre-commit-config.yaml
```

ะะพัะปะต ััะพะณะพ ะฟัะธ ะฟะพะฟััะบะต ัะพะทะดะฐะฝะธั ะบะพะผะผะธัะฐ ะฑัะดะตั ะทะฐะฟััะบะฐัััั ะฟัะพะฒะตัะบะฐ ะบะพะดะฐ ะธ ะตัะปะธ ะฒัะต ะฟัะพะฒะตัะบะธ ะฟัะพัะพะดัั, ัะพะทะดะฐะตััั ะบะพะผะผะธั.

ะะปั ัััะฝะพะน ะฟัะพะฒะตัะบะธ ะบะพะดะฐ ะฝะตะพะฑัะพะดะธะผะพ ะฒัะฟะพะปะฝะธัั ะบะพะผะฐะฝะดั:

```bash
pre-commit run --all-files
```
---

## ะฆะธัะฐัะฐ

> ยซะะดะตะฐะปัะฝะพะผั ะบะพะดั ะผะตััะพ ะฒ ะผัะทะตะต: ัะฐะผ ัะตะฝัั ะฒััะบะธะต ะดัะตะฒะฝะพััะธยป โ ะะธัะตั ะะพััะพะฝ.

---

ะัะธััะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั! ๐

